<app-os4ml-dialog-template>
  <ng-container header>
    <h1 header role="header" class="headline-medium primary-text">
      {{ 'pages.solution_create_dialog.title' | translate }}
    </h1>
    <app-icon-button
      data-testid="close-button"
      (click)="close()"
      icon="close"
      color="accent">
    </app-icon-button>
  </ng-container>

  <app-prediction-create-form
    *ngIf="(solutions$ | async) && !submitting"
    [solutions]="(solutions$ | async) ?? []"
    [selectedSolutionId]="data.solutionId"
    (downloadPredictionTemplate)="
      downloadPredictionTemplate(downloadPredictionTemplateAnker, $event)
    "
    (submitPrediction)="submitPrediction($event)"
    main>
  </app-prediction-create-form>
  <a
    main
    download
    target="_blank"
    hidden
    aria-hidden="true"
    #downloadPredictionTemplateAnker>
    {{ 'dialog.create_prediction.download_template' | translate }}
  </a>
  <ng-container footer>
    {{predictionService.progress}}
    <mat-spinner
      color="primary"
      *ngIf="submitting"
      [diameter]="40"
      mode="indeterminate"
      class="spinner">
    </mat-spinner>
  </ng-container>
</app-os4ml-dialog-template>
