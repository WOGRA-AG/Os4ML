<form
  [formGroup]="createPredictionForm"
  (ngSubmit)="onSubmit()"
  attr.aria-label="{{
    'organisms.solution.create_form.aria_label' | translate
  }}">
  <mat-form-field>
    <mat-label>
      {{ 'organisms.solution_create_form.form_fields.name.label' | translate }}
    </mat-label>
    <input
      matInput
      formControlName="predictionName"
      data-testid="input-name"
      attr.aria-label="{{
        'organisms.solution_create_form.form_fields.name.aria_label' | translate
      }}" />
    <mat-error *ngIf="predictionName?.invalid && predictionName?.touched">
      {{ 'organisms.solution_create_form.form_fields.name.error' | translate }}
    </mat-error>
    <mat-hint class="on-surface-text">
      {{ 'organisms.solution_create_form.form_fields.name.hint' | translate }}
    </mat-hint>
  </mat-form-field>
  <mat-form-field>
    <mat-label>
      {{
        'organisms.solution_create_form.form_fields.databag_id.label'
          | translate
      }}
    </mat-label>
    <mat-select
      [(value)]="selectedSolutionId"
      data-testid="input-databagId"
      formControlName="solutionId"
      attr.aria-label="{{
        'organisms.solution_create_form.form_fields.databag_id.aria_label'
          | translate
      }}">
      <mat-option *ngFor="let solution of solutions" [value]="solution.id">
        {{ solution.name }}
      </mat-option>
    </mat-select>
    <mat-error *ngIf="solutionId?.invalid && solutionId?.touched">
      {{ 'organisms.solution_create_form.form_fields.name.error' | translate }}
    </mat-error>
    <mat-hint class="on-surface-text">
      {{
        'organisms.solution_create_form.form_fields.databag_id.hint' | translate
      }}
    </mat-hint>
  </mat-form-field>
  <app-element-divider></app-element-divider>
  <button type="button" (click)="toggleFileMode()">toggle mode</button>
  <div *ngIf="localFileMode">
    <mat-label>Datei ausw√§hlen</mat-label>
    <app-file-dropzone
      [selectedFileName]="predictionDataFile?.value.name"
      (fileDropped)="predictionDataFileSelected($event)"></app-file-dropzone>
  </div>
  <mat-form-field *ngIf="!localFileMode">
    <mat-label>URL</mat-label>
    <input
      matInput
      formControlName="predictionDataUrl"
      placeholder="Geben Sie eine URL ein" />
  </mat-form-field>
  <div class="button-row">
    <app-button
      [disabled]="createPredictionForm.invalid"
      type="submit"
      data-testid="create-databag"
      variant="raised"
      class="mat-raised-button"
      color="primary">
      {{ 'organisms.solution_create_form.submit-button' | translate }}
    </app-button>
  </div>
</form>
