<app-os4ml-dialog-template>
  <ng-container header>
    <h1 header id="dialog-title" class="headline-medium primary-text">
      {{ data.titleKey | translate }}
    </h1>
    <app-icon-button
      [ariaLabel]="'close'"
      data-testid="close-button"
      (click)="close()"
      icon="close"
      color="accent">
    </app-icon-button>
  </ng-container>
  <form
    main
    [formGroup]="inputForm"
    (ngSubmit)="submit()"
    attr.aria-label="{{ data.ariaLabelKey | translate }}">
    <mat-form-field>
      <mat-label>
        {{ data.inputFormField.label | translate }}
      </mat-label>
      <input
        matInput
        formControlName="inputValue"
        data-testid="popup-input-field"
        attr.aria-label="{{ data.inputFormField.ariaLabel | translate }}" />
      <mat-error *ngIf="inputValue?.invalid && inputValue?.touched">
        {{ data.inputFormField.errorRequired | translate }}
      </mat-error>
      <mat-hint class="on-surface-text">
        {{ data.inputFormField.hint | translate }}
      </mat-hint>
    </mat-form-field>
    <div class="button-row">
      <app-new-button
        type="submit"
        variant="primary"
        size="medium"
        data-testid="popup-input-submit"
        [disabled]="inputForm.invalid"
        [ariaLabel]="data.submit.aria_label | translate">
        {{ data.submit.button_text | translate }}
      </app-new-button>
    </div>
  </form>
</app-os4ml-dialog-template>
